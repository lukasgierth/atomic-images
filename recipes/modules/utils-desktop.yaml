---
# yamllint disable rule:line-length
modules:
  - type: dnf
    repos:
      nonfree: rpmfusion
      files:
        - https://mise.jdx.dev/rpm/mise.repo
        - https://pkgs.tailscale.com/stable/fedora/tailscale.repo
      copr:
        - gierth/image-branding
        - gierth/tools-golang
        - gierth/tools-misc
        - gierth/tools-rust
        - ublue-os/packages
      cleanup: true

    remove:
      packages:
        - firefox
        - firefox-langpacks
        - htop
        - net-tools
        - ublue-os-just
        - ublue-os-update-services
        - vim
        - vim-enhanced
        - vim-minimal

    install:
      packages:
        - ImageMagick
        - abcde
        - android-tools
        - ansible
        - aria2
        - arp-scan
        - bat
        - borgbackup
        - borgmatic
        - btop
        - cargo
        - chezmoi
        - cmake
        - ctags
        - curl
        - ddrescue
        - detox
        - dfu-util
        - distrobox
        - duf
        - esptool
        - f3
        - fastfetch
        - fd-find
        - ffmpeg
        - fish
        - fzf
        - gcc
        - gcc-c++
        - gdu
        - git
        - git-delta
        - glibc-static
        - golang
        - gzip
        - httpx
        - iperf3
        - luajit
        - make
        - mediainfo
        - mosh
        - neovim
        - newsboat
        - nodejs
        - onefetch
        - pandoc
        - picocom
        - podman-compose
        - pre-commit
        - procs
        - python3
        - python3-pip
        - ripgrep
        - rsync
        - ruby
        - shntool
        - stow
        - stress-ng
        - subfinder
        - tcpdump
        - tealdeer
        - tmux
        - trivy
        - unzip
        - uv
        - whipper
        - wireshark
        - yamllint
        - yt-dlp
        - zoxide

        - repo: copr:copr.fedorainfracloud.org/ublue-os/packages
          packages:
            - ublue-os-udev-rules
            - ublue-polkit-rules

        - repo: tailscale-stable
          packages:
            - tailscale

        - repo: mise-repo
          packages:
            - mise

        - repo: copr:copr.fedorainfracloud.org:gierth/image-branding
          packages:
            - backgrounds-aurora
            - backgrounds-lakeside

        - repo: copr:copr.fedorainfracloud.org:gierth/tools-golang
          packages:
            - grype # check images for cve
            - lazygit # git
            - lazyjournal # journalctl
            - lazysql # sql
            - trufflehog # look for secrets in repos/patch that cant be snatched
            # - chezmoi #include again in fed43, remove from official repo again
            # - oh-my-posh #include again in fed43

        - repo: copr:copr.fedorainfracloud.org:gierth/tools-misc
          packages:
            - ansel-bin
            - blisp
            - dfu-programmer
            - fisher
            - sjust

        - repo: copr:copr.fedorainfracloud.org:gierth/tools-rust
          packages:
            - binwalk # inspect binaries for hidden files
            - blindfold # gitignore generator
            - broot # different way to travel directories
            - comchan # serialport
            - deno # ts,js builder
            - eza # ls
            - git-cliff # for git
            - hex-rs
            - hurl # http requests
            - nomino # renamer
            - oha # create traffic on a webserver to test
            - rainfrog # db
            - rmt # rm that deletes to Trash
            - rs-tftpd
            - rustnet # network diagnostic
            - rustscan # nmap, bang a server
            - skim # version in official repositories is pretty old
            - somo # ss alternative
            - systemctl-tui
            - trippy # network diagnostic
            - yazi # file manager
            - zellij # multiplexer
