---
modules:
  - type: dnf
    repos:
      files:
        - https://mise.jdx.dev/rpm/mise.repo
        - https://pkgs.tailscale.com/stable/fedora/tailscale.repo
      copr:
        - ublue-os/packages
      nonfree: rpmfusion
      cleanup: true
    remove:
      packages:
        - firefox
        - firefox-langpacks
        - htop
        - net-tools
        - ublue-os-just
        - ublue-os-update-services
        - vim
        - vim-enhanced
        - vim-minimal
    install:
      packages:
        - ImageMagick
        - abcde
        - android-tools
        - ansible
        - aria2
        - arp-scan
        - bat
        - borgbackup
        - borgmatic
        - btop
        - cargo
        - chezmoi
        - cmake
        - ctags
        - curl
        - ddrescue
        - detox
        - dfu-util
        - distrobox
        - duf
        - esptool
        - f3
        - fastfetch
        - fd-find
        - fish
        - fzf
        - gcc
        - gcc-c++
        - gdu
        - git
        - git-delta
        - glibc-static
        - golang
        - gzip
        - httpx
        - iperf3
        - luajit
        - luarocks
        - make
        - mediainfo
        - mise
        - mosh
        - neovim
        - newsboat
        - nodejs
        - oh-my-posh
        - onefetch
        - pandoc
        - picocom
        - podman-compose
        - pre-commit
        - procs
        - python3
        - python3-pip
        - rclone
        - restic
        - ripgrep
        - rsync
        - ruby
        - ruby-devel
        - shntool
        - stow
        - stress-ng
        - subfinder
        - tailscale
        - tcpdump
        - tealdeer
        - tmux
        - trash-cli
        - trivy
        - ublue-os-udev-rules
        - ublue-polkit-rules
        - unzip
        - uv
        - whipper
        - wireshark
        - wordgrinder
        - yt-dlp
        - zoxide
        # disabled, already installed from negativo17 media-repo in base image, makes problems when version diverges
        #- ffmpeg

  # Additional tools in rust
  - type: dnf
    repos:
      copr:
        - gierth/tools-rust
      cleanup: true
    install:
      packages:
        - binwalk # inspect binaries for hidden files
        - blindfold # gitignore generator
        - broot # different way to travel directories
        - comchan # serialport
        - deno # ts,js builder
        - eza # ls
        - git-cliff # for git
        - hurl # http requests
        - nomino # renamer
        - oha # create traffic on a webserver to test
        - rainfrog # db
        - rs-tftpd
        - rustnet # network diagnostic
        - rustscan # nmap, bang a server
        - somo # ss alternative
        - systemctl-tui
        - trippy # network diagnostic
        - yazi # file manager
        - zellij # multiplexer

  # Additional tools in golang
  - type: dnf
    repos:
      copr:
        - gierth/tools-golang
      cleanup: true
    install:
      packages:
        - grype # check images for cve
        - hugo # build static websites
        - lazygit # git
        - lazyjournal # journalctl
        - lazysql # sql
        - nom # rss reader
        - trufflehog # look for secrets in repos/patch that cant be snatched

  # Rest of the tools
  - type: dnf
    repos:
      copr:
        - gierth/tools-misc
      cleanup: true
    install:
      packages:
        - ansel-bin
        - blisp
        - dfu-programmer
        - fisher
        - gnome-shell-extension-maximized-by-default
        - sjust

  # Branding
  - type: dnf
    repos:
      copr:
        - gierth/image-branding
      cleanup: true
    install:
      packages:
        - backgrounds-aurora
        - backgrounds-lakeside
