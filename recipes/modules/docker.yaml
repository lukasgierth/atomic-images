---
modules:
  - type: dnf
    repos:
      files:
        - https://download.docker.com/linux/fedora/docker-ce.repo
      cleanup: true
    install:
      packages:
        - repo: docker-ce-stable
          packages:
            - containerd.io
            - docker-buildx-plugin
            - docker-ce
            - docker-ce-cli
            - docker-compose-plugin

  - type: systemd
    system:
      enabled:
        - docker.service

  - type: systemd
    system:
      enabled:
        - setup-docker-group.service
